<% content_for :page_title do %>
  <%= t(:documents, scope: [:spree, :print_invoice]) %>
<% end %>

<% if @bookkeeping_documents.any? %>
  <table class="table" id="listing_orders" data-hook>
    <thead>
      <tr data-hook="printables_index_headers">
        <th><%= Spree.t('print_invoice.date') %></th>
        <th><%= Spree.t('print_invoice.document_type') %></th>
        <th><%= Spree.t('print_invoice.order_number') %></th>
        <th><%= Spree.t('print_invoice.firstname') %></th>
        <th><%= Spree.t('print_invoice.lastname') %></th>
        <th><%= Spree.t('email') %></th>
        <th><%= Spree.t('total') %></th>
      </tr>
    </thead>
    <tbody>
    <% @bookkeeping_documents.each do |bookkeeping_document| %>
      <tr data-hook="admin_printables_index_rows" class="<%= cycle('odd', 'even') %>">
        <td><%= l bookkeeping_document.created_at.to_date %></td>
        <td><%= link_to bookkeeping_document.document_type.titleize, spree.admin_order_bookkeeping_document_path(bookkeeping_document.printable.number, bookkeeping_document, format: :pdf), target: '_blank' %></td>
        <td><%= bookkeeping_document.number %></td>
        <td><%= bookkeeping_document.firstname %></td>
        <td><%= bookkeeping_document.lastname %></td>
        <td><%= bookkeeping_document.email %></td>
        <td><%= bookkeeping_document.display_total.to_html %></td>
      </tr>
    <% end %>
    </tbody>
  </table>
<% else %>
  <div class="alert alert-info no-objects-found">
    <%= Spree.t(:no_resource_found, resource: Spree::BookkeepingDocument) %>,
  </div>
<% end %>

<%= render partial: 'spree/admin/shared/index_table_options', locals: { collection: @bookkeeping_documents, simple: true } %>
